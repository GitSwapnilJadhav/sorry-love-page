<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Girlfriend_name ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<style>
body{
    margin:0;
    overflow:hidden;
    font-family:'Poppins',sans-serif;
    background:black;
}

canvas{
    position:fixed;
    top:0;
    left:0;
    pointer-events:none;  /* THIS FIXES THE BUTTON */
}


.container{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    text-align:center;
    z-index:10;
    backdrop-filter:blur(20px);
    background:rgba(255,255,255,0.08);
    padding:40px;
    border-radius:20px;
    box-shadow:0 0 40px rgba(255,0,100,0.4);
    width:85%;
    max-width:400px;
}

h1{
    color:white;
    font-weight:600;
    font-size:24px;
    text-shadow:0 0 20px pink;
    transition:0.3s;
}

button{
    font-size:18px;
    padding:14px 28px;
    margin:15px;
    border:none;
    border-radius:30px;
    cursor:pointer;
}

#yes{
    background:linear-gradient(45deg,#ff0066,#ff66cc);
    color:white;
    box-shadow:0 0 20px #ff3399;
}

#yes:hover{
    box-shadow:0 0 40px #ff66cc;
}

#no{
    background:#6a00ff;
    color:white;
    box-shadow:0 0 20px #a64dff;
    position:fixed;
}

#finalMessage{
    display:none;
    font-size:32px;
    color:gold;
    text-shadow:0 0 40px gold;
}
</style>
</head>

<body>

<audio id="bgMusic" src="Tu Hain Toh Mr And Mrs Mahi 320 Kbps.mp3"></audio>

<div class="container">
    <h1 id="question"></h1>
    <button id="yes">Yes üíï</button>
    <div id="finalMessage"></div>
</div>

<button id="no">No üíú</button>

<script>

/* ================= NAME VARIABLE ================= */
const girlfriendName = "Rahul"; // <-- Replace ONCE here

/* ================= INITIAL TEXT ================= */
const question = document.getElementById("question");
question.innerText = `${girlfriendName}‚Ä¶ Do you still love me? üíñ`;

/* ================= MUSIC ON FIRST CLICK ================= */
let musicStarted = false;
document.body.addEventListener("click", () => {
    if(!musicStarted){
        document.getElementById("bgMusic").play();
        musicStarted = true;
    }
}, {once:true});

/* ================= NO BUTTON SETUP ================= */
const noBtn = document.getElementById("no");

/* Initial safe position */
noBtn.style.left = (window.innerWidth/2 - 40) + "px";
noBtn.style.top = (window.innerHeight/1.5) + "px";

const messages = [
`${girlfriendName}‚Ä¶ I‚Äôm panicking now üò∞`,
`Kanhaiya, this is really hurting me üíî`,
`Why don‚Äôt you love me, ${girlfriendName}? üò≠`,
`My heart is breaking because of you, ${girlfriendName} üíî`,
`Please don‚Äôt leave me, ${girlfriendName} ü•∫`
];

let noClickCount = 0;

function moveButtonSafely(){

    const btnWidth = noBtn.offsetWidth;
    const btnHeight = noBtn.offsetHeight;

    const container = document.querySelector(".container");
    const containerRect = container.getBoundingClientRect();

    const maxX = window.innerWidth - btnWidth - 20;
    const maxY = window.innerHeight - btnHeight - 20;

    let newX, newY;
    let safe = false;

    while(!safe){
        newX = Math.random() * maxX;
        newY = Math.random() * maxY;

        const overlaps =
            newX < containerRect.right &&
            newX + btnWidth > containerRect.left &&
            newY < containerRect.bottom &&
            newY + btnHeight > containerRect.top;

        if(!overlaps){
            safe = true;
        }
    }

    gsap.to(noBtn,{
        duration:0.4,
        left:newX,
        top:newY,
        ease:"power2.out"
    });
}

/* NO BUTTON CLICK */
noBtn.addEventListener("click", () => {

    if(noClickCount < messages.length){
        question.innerText = messages[noClickCount];
    } else {
        question.innerText = `${girlfriendName}‚Ä¶ please üò≠üíî`;
    }

    // Shake animation
    gsap.fromTo(question,
        {x:-10},
        {x:10,duration:0.08,repeat:6,yoyo:true}
    );

    // Increase red glow
    question.style.textShadow = `0 0 ${20 + noClickCount*8}px red`;

    // Slight background darkening
    document.body.style.background = `rgb(${Math.min(60,noClickCount*10)},0,0)`;

    moveButtonSafely();
    noClickCount++;
});

/* ================= YES BUTTON ================= */
const yesBtn = document.getElementById("yes");
const finalMessage = document.getElementById("finalMessage");

yesBtn.addEventListener("click",()=>{
    question.style.display="none";
    yesBtn.style.display="none";
    noBtn.style.display="none";
    finalMessage.innerText = `My heart belongs to you,üíï${girlfriendName} ‚ù§Ô∏è`;
    finalMessage.style.display="block";
    launchFireworks();
});

//* ================= 3D SHINY FLOATING HEARTS ================= */

const heartCanvas = document.createElement("canvas");
document.body.appendChild(heartCanvas);
const ctx = heartCanvas.getContext("2d");

heartCanvas.width = window.innerWidth;
heartCanvas.height = window.innerHeight;

let hearts = [];

for (let i = 0; i < 50; i++) {
    hearts.push({
        x: Math.random() * heartCanvas.width,
        y: Math.random() * heartCanvas.height,
        size: Math.random() * 18 + 12,
        speed: Math.random() * 1.2 + 0.5,
        shineOffset: Math.random() * 100
    });
}

function drawHeart(x, y, size, shineOffset) {

    const gradient = ctx.createRadialGradient(
        x - size * 0.3,
        y - size * 0.3,
        size * 0.1,
        x,
        y,
        size * 1.2
    );

    gradient.addColorStop(0, "#ff99aa");   // shine
    gradient.addColorStop(0.3, "#ff003c"); // red
    gradient.addColorStop(1, "#8b0000");   // dark red depth

    ctx.fillStyle = gradient;
    ctx.shadowColor = "rgba(255,0,60,0.8)";
    ctx.shadowBlur = 15;

    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.bezierCurveTo(x, y - size/2, x - size, y - size/2, x - size, y);
    ctx.bezierCurveTo(x - size, y + size/2, x, y + size, x, y + size*1.5);
    ctx.bezierCurveTo(x, y + size, x + size, y + size/2, x + size, y);
    ctx.bezierCurveTo(x + size, y - size/2, x, y - size/2, x, y);
    ctx.fill();

    ctx.shadowBlur = 0;
}

function animateHearts() {
    ctx.clearRect(0, 0, heartCanvas.width, heartCanvas.height);

    hearts.forEach(h => {
        h.y -= h.speed;

        // slight floating sway
        h.x += Math.sin(Date.now() * 0.001 + h.shineOffset) * 0.3;

        if (h.y < -50) {
            h.y = heartCanvas.height + 50;
            h.x = Math.random() * heartCanvas.width;
        }

        drawHeart(h.x, h.y, h.size, h.shineOffset);
    });

    requestAnimationFrame(animateHearts);
}

animateHearts();


/* ================= FIREWORKS ================= */
let scene=new THREE.Scene();
let camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
let renderer=new THREE.WebGLRenderer({alpha:true});
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.domElement.style.position="fixed";
renderer.domElement.style.zIndex="5";
document.body.appendChild(renderer.domElement);
camera.position.z=5;

function launchFireworks(){
    const geometry=new THREE.BufferGeometry();
    const vertices=[];
    for(let i=0;i<700;i++){
        vertices.push(
            (Math.random()-0.5)*10,
            (Math.random()-0.5)*10,
            (Math.random()-0.5)*10
        );
    }
    geometry.setAttribute('position',new THREE.Float32BufferAttribute(vertices,3));
    const material=new THREE.PointsMaterial({color:0xff66cc,size:0.1});
    const points=new THREE.Points(geometry,material);
    scene.add(points);

    function animate(){
        requestAnimationFrame(animate);
        points.rotation.x+=0.01;
        points.rotation.y+=0.01;
        renderer.render(scene,camera);
    }
    animate();
}

/* ================= RESIZE FIX ================= */
window.addEventListener("resize",()=>{
    heartCanvas.width=window.innerWidth;
    heartCanvas.height=window.innerHeight;
    renderer.setSize(window.innerWidth,window.innerHeight);
    camera.aspect=window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
});
</script>

</body>
</html>
